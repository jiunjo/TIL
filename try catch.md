# 🧠 TIL - JavaScript의 try/catch + 싱글 스레드 개념 완전 이해

## 📅 날짜
2025-11-18

---

## 📘 요약
JavaScript의 `try/catch`는 **싱글 스레드(single-thread)** 구조 때문에 매우 중요하다.  
JS는 한 번에 하나의 작업만 실행할 수 있기 때문에,  
**에러가 발생하면 전체 실행 흐름이 즉시 중단**된다.  
이 중단을 막고 UI를 계속 살려두기 위해 try/catch가 필요하다.

---

## 🔍 핵심 개념

### ✔ 1. JS는 싱글 스레드다
- 한 순간에 **한 가지 작업만** 실행 가능.
- 코드 실행, 렌더링, 이벤트 처리 모두 한 스레드에서 수행됨.
- 따라서 실행 도중 에러가 터지면 **전체 흐름이 멈춤**.

### ✔ 2. try의 역할
- “여기서 에러 날 수도 있으니 감시하겠다”는 의미.
- try 내부에서 에러 발생 → JS 엔진이 **Error 객체를 throw**.
- throw 순간 try는 중단되고 **catch로 즉시 이동**.

### ✔ 3. catch의 역할
- try에서 던져진 Error 객체를 매개변수로 받는다.
- 변수 이름은 자유(`error`, `e`, `banana` 등).
- Error 객체에는 `message`, `name`, `stack` 등 디버깅 정보 포함.
- UI용 에러 메시지는 반드시 `error.message`처럼 문자열로 가공해서 저장.

### ✔ 4. try/catch가 중요한 이유
- 에러가 발생해도 **앱이 죽지 않게 함**  
  (싱글 스레드의 한계를 보완)
- UI 렌더링·입력·로딩 컴포넌트가 **계속 작동**  
- 사용자에게 친절한 메시지 표시 가능
- 비동기 작업(fetch/axios) 실패를 안정적으로 처리
- React에서 렌더링이 깨지는 문제 방지

### ✔ 5. 기본 패턴
```js
try {
  const res = await fetch('/api');
} catch (error) {
  console.error(error);        // Error 객체 전체
  setError(error.message);     // UI에 표시할 문자열
}
```

---

## 🧩 가장 중요한 문장

### ⭐ **JS는 싱글 스레드라 에러 하나면 실행 흐름이 즉시 멈춘다.  
try/catch는 이 실행 중단을 막아 앱을 정상적으로 유지하는 “보호막”이다.**
